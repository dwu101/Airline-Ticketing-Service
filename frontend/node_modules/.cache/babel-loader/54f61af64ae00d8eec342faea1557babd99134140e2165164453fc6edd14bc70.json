{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danqw\\\\OneDrive\\\\Desktop\\\\school\\\\DB\\\\Airline-Ticketing-Service\\\\frontend\\\\src\\\\Components\\\\FlightSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport TextInputBox from './TextInputBox';\nimport DateInputBox from './DateInputBox';\nimport DateConverter from './DateConverter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightSearch = ({\n  isloggedin\n}) => {\n  _s();\n  console.log('isLogged', isloggedin);\n\n  // State to manage user input\n  const [departAirport, setDepartAirport] = useState('');\n  const [arriveAirport, setArriveAirport] = useState('');\n  const [departDate, setDepartDate] = useState('0000-00-00');\n  const [returnDate, setReturnDate] = useState('0000-00-00');\n  const [tripType, setTripType] = useState('');\n  const [way1Flights, setWay1Flights] = useState(null);\n  const [way2Flights, setWay2Flights] = useState(null);\n  const [allAirports, setAllAirports] = useState([]);\n  const [result, setResult] = useState(\"\");\n  const [showResult, setShowResult] = useState(false);\n  const [purchase, setPurchase] = useState(false);\n  const [cardType, setCardType] = useState('');\n  const [cardNumber, setCardNumber] = useState('');\n  const [cardName, setCardName] = useState('');\n  const [cardExp, setCardExp] = useState('');\n  const [purchaseResult, setPurchaseResult] = useState('');\n  const [increasePrice, setIncreacePrice] = useState(false);\n  const [way1Clicked, setWay1Clicked] = useState('');\n  const [way2Clicked, setWay2Clicked] = useState('');\n  const handleWay1Click = clickedItem => {\n    console.log(clickedItem);\n    setWay1Clicked(clickedItem);\n  };\n  const handleWay2Click = clickedItem => {\n    setWay2Clicked(clickedItem);\n  };\n  const handleTransaction = async e => {\n    e.preventDefault();\n    if (way1Clicked == '') {\n      setPurchaseResult(\"Please Enter all Flight Information\");\n      return;\n    }\n    if (tripType == \"Round-Trip\" && way2Clicked == '') {\n      setPurchaseResult(\"Please Enter all Flight Information\");\n      return;\n    }\n\n    // flightNum = data['flightNum']\n    // airline = data['airline']\n    // departure = data['departure']\n\n    const result = await fetch('/increaseTicketPrice', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'flightNum': way1Clicked['Flight_Number'],\n        'airline': way1Clicked['Airline_Name'],\n        'departure': DateConverter(way1Clicked['Departure_Date_Time'])\n      })\n    });\n    if (result.status === 400) {\n      setPurchaseResult(\"ERROR IN TRANSACTION\");\n    } else {\n      const priceIncrease = await result.json();\n      console.log(priceIncrease);\n      if (priceIncrease['Increase']) {\n        const newFlight = new Map(way1Clicked);\n        newFlight.set('Base_Price', way1Clicked['Base_Price'] * 1.25);\n        setWay1Clicked(newFlight);\n      }\n      if (tripType === \"Round-Trip\") {\n        result = await fetch('/increaseTicketPrice', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: {\n            'flightNum': way2Clicked['Flight_Number'],\n            'airline': way2Clicked['Airline_Name'],\n            'departure': DateConverter(way2Clicked['Departure_Date_Time'])\n          }\n        });\n        if (result.status === 400) {\n          setPurchaseResult(\"ERROR IN TRANSACTION\");\n        } else {\n          const priceIncrease = await result.json();\n          if (priceIncrease['Increase']) {\n            const newFlight = new Map(way2Clicked);\n            newFlight.set('Base_Price', way2Clicked['Base_Price'] * 1.25);\n            setWay2Clicked(newFlight);\n          }\n        }\n      }\n    }\n    email = session[0];\n    flightNum = data['flightNum'];\n    departure = data['departure'];\n    price = data['price'];\n    cardType = data['cardType'];\n    cardNumber = data['cardNumber'];\n    cardName = data['cardName'];\n    cardExp = data['cardExp'];\n    try {\n      const response = await fetch('/buyTicket', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          //TICKET ID WILL BE RNG (CHECK), EMAIL ADDRESS FROM SESSION\n          'cardType': cardType,\n          'cardNumber': cardNumber,\n          'cardName': cardName,\n          'cardExp': cardExp,\n          'flightNum1': way1Clicked['Flight_Number'],\n          'departDateTime': DateConverter(way1Clicked[\"Departure_Date_Time\"]),\n          'price': way1Clicked[\"Base_Price\"] //ADJUST PRICE\n        })\n      });\n\n      if (response.status === 200) {\n        setPurchase(\"Ticket Bought Successfully\");\n      } else {\n        // (response.status === 400)\n        setPurchase(\"Error in Transaction\");\n      }\n    } catch (error) {\n      console.log(\"ERROR\", error);\n    }\n  };\n  const allowPurchase = () => {\n    setPurchase(true);\n  };\n  const handleSubmit = async e => {\n    console.log(\"POOOOOP: \");\n    console.log(isloggedin);\n    e.preventDefault();\n    try {\n      const response = await fetch('/FlightSearch', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'DepartAirport': departAirport,\n          'ArriveAirport': arriveAirport,\n          'DepartDate': departDate,\n          'ReturnDate': returnDate,\n          'TripType': tripType\n        })\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      console.log(responseData['Flights']);\n      if (response.status === 200) {\n        setResult(\"\");\n        setWay1Flights(responseData[\"Way1\"]);\n        setWay2Flights(responseData[\"Way2\"]);\n        setShowResult(true);\n      } else {\n        // (response.status === 400)\n        setResult(\"No Flights Found\");\n        setWay1Flights(null);\n        setWay2Flights(null);\n      }\n    } catch (error) {\n      console.log(\"ERROR\", error);\n    }\n  };\n  const fetchData = async () => {\n    try {\n      const response = await fetch('/getAirports');\n      const data = await response.json();\n      setAllAirports(data['Airports']);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n    const intervalId = setInterval(() => {\n      fetchData();\n    }, 99000);\n    return () => clearInterval(intervalId);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SearchBox\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select a Departure Airport or Departure City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: departAirport,\n          onChange: e => setDepartAirport(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \" Select an option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 9\n          }, this), allAirports.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.Airport_Name || item.City,\n            children: item.Airport_Name || item.City\n          }, item.Airport_Name || item.City, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 9\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select an Arrival Depature Airport or Arrival City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: arriveAirport,\n          onChange: e => setArriveAirport(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select an option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }, this), allAirports.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.Airport_Name || item.City,\n            children: item.Airport_Name || item.City\n          }, item.Airport_Name || item.City, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 11\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"One-Way or Round Trip?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setTripType(e.target.value),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"One-Way\",\n            children: \"One-Way\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Round-Trip\",\n            children: \"Round-Trip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"dateInput\",\n          children: \"Departure Date :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputBox\",\n          type: \"date\",\n          id: \"departDate\",\n          value: departDate,\n          onChange: e => setDepartDate(e.target.value),\n          pattern: \"\\\\d{4}-\\\\d{2}-\\\\d{2}\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 7\n      }, this), tripType === \"Round-Trip\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"dateInput\",\n          children: \"Return Date :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputBox\",\n          type: \"date\",\n          id: \"returnDate\",\n          value: returnDate,\n          onChange: e => setReturnDate(e.target.value),\n          pattern: \"\\\\d{4}-\\\\d{2}-\\\\d{2}\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search Flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: result\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 5\n    }, this), showResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: result\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Departure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 7\n      }, this), way1Flights && /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: way1Flights.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => handleWay1Click(item),\n          style: {\n            cursor: 'pointer',\n            color: way1Clicked === item ? 'red' : 'black'\n          },\n          children: Object.entries(item).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [key, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this), \" \", value, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 52\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 19\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Return\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 7\n        }, this), way2Flights && /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: way2Flights.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => handleWay2Click(item),\n            style: {\n              cursor: 'pointer',\n              color: way2Clicked === item ? 'red' : 'black'\n            },\n            children: Object.entries(item).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [key, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this), \" \", value, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 52\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this))\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 14\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 5\n      }, this), isloggedin && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: allowPurchase,\n          children: \" Purchase A Flight \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 5\n      }, this), !isloggedin && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Login\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \" Log in or Register to Purchase a Flight \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 5\n      }, this), purchase && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleTransaction,\n          children: [/*#__PURE__*/_jsxDEV(TextInputBox, {\n            setState: setCardType,\n            label: \"Card Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TextInputBox, {\n            setState: setCardNumber,\n            label: \"Card Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TextInputBox, {\n            setState: setCardName,\n            label: \"Card Holder Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(DateInputBox, {\n            setState: setCardExp,\n            label: \"Card Expiration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Buy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightSearch, \"0KXNkrBVfvCncym6n8VNW0mlqE0=\");\n_c = FlightSearch;\nFlightSearch.propTypes = {\n  isloggedin: PropTypes.bool.isRequired\n};\nexport default FlightSearch;\nvar _c;\n$RefreshReg$(_c, \"FlightSearch\");","map":{"version":3,"names":["React","useState","useEffect","Link","PropTypes","TextInputBox","DateInputBox","DateConverter","jsxDEV","_jsxDEV","FlightSearch","isloggedin","_s","console","log","departAirport","setDepartAirport","arriveAirport","setArriveAirport","departDate","setDepartDate","returnDate","setReturnDate","tripType","setTripType","way1Flights","setWay1Flights","way2Flights","setWay2Flights","allAirports","setAllAirports","result","setResult","showResult","setShowResult","purchase","setPurchase","cardType","setCardType","cardNumber","setCardNumber","cardName","setCardName","cardExp","setCardExp","purchaseResult","setPurchaseResult","increasePrice","setIncreacePrice","way1Clicked","setWay1Clicked","way2Clicked","setWay2Clicked","handleWay1Click","clickedItem","handleWay2Click","handleTransaction","e","preventDefault","fetch","method","headers","body","JSON","stringify","status","priceIncrease","json","newFlight","Map","set","email","session","flightNum","data","departure","price","response","error","allowPurchase","handleSubmit","responseData","fetchData","intervalId","setInterval","clearInterval","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","map","item","Airport_Name","City","required","htmlFor","type","id","pattern","index","onClick","style","cursor","color","Object","entries","key","to","setState","label","_c","propTypes","bool","isRequired","$RefreshReg$"],"sources":["C:/Users/danqw/OneDrive/Desktop/school/DB/Airline-Ticketing-Service/frontend/src/Components/FlightSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport TextInputBox from './TextInputBox';\r\nimport DateInputBox from './DateInputBox';\r\nimport DateConverter from './DateConverter';\r\n\r\n\r\nconst FlightSearch = ({isloggedin}) => {\r\n  console.log('isLogged', isloggedin);\r\n  \r\n  // State to manage user input\r\n  const [departAirport, setDepartAirport] = useState('');\r\n  const [arriveAirport, setArriveAirport] = useState('');\r\n  const [departDate, setDepartDate] = useState('0000-00-00');\r\n  const [returnDate, setReturnDate] = useState('0000-00-00');\r\n  const [tripType, setTripType] = useState('');\r\n  const [way1Flights, setWay1Flights] = useState(null);\r\n  const [way2Flights, setWay2Flights] = useState(null);\r\n  const [allAirports, setAllAirports] = useState([]);\r\n  const [result, setResult] = useState(\"\");\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [purchase, setPurchase] = useState(false);\r\n  const [cardType, setCardType] = useState('');\r\n  const [cardNumber, setCardNumber] = useState('');\r\n  const [cardName, setCardName] = useState('');\r\n  const [cardExp, setCardExp] = useState('');\r\n  const [purchaseResult, setPurchaseResult] = useState('');\r\n  const [increasePrice, setIncreacePrice] = useState(false);\r\n\r\n\r\n  const [way1Clicked, setWay1Clicked] = useState('');\r\n  const [way2Clicked, setWay2Clicked] = useState('');\r\n\r\n\r\n\r\n  const handleWay1Click = (clickedItem) => {\r\n    console.log(clickedItem)\r\n    setWay1Clicked(clickedItem);\r\n  };\r\n  const handleWay2Click = (clickedItem) => {\r\n    setWay2Clicked(clickedItem);\r\n  };\r\n\r\n  const handleTransaction = async(e) =>{\r\n    e.preventDefault();\r\n\r\n    if (way1Clicked == '') {\r\n      setPurchaseResult(\"Please Enter all Flight Information\");\r\n      return\r\n    }\r\n\r\n    if(tripType == \"Round-Trip\" && way2Clicked == ''){\r\n      setPurchaseResult(\"Please Enter all Flight Information\");\r\n      return\r\n    }\r\n\r\n    // flightNum = data['flightNum']\r\n    // airline = data['airline']\r\n    // departure = data['departure']\r\n    \r\n    const result = await fetch('/increaseTicketPrice',{\r\n      method: 'POST',\r\n      headers:{\r\n          'Content-Type' : 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        'flightNum' : way1Clicked['Flight_Number'],\r\n        'airline' : way1Clicked ['Airline_Name'],\r\n        'departure' : DateConverter(way1Clicked['Departure_Date_Time'])\r\n      })\r\n    \r\n    });\r\n    if (result.status === 400){\r\n      setPurchaseResult(\"ERROR IN TRANSACTION\");\r\n    }\r\n    else{\r\n      const priceIncrease = await result.json();\r\n      console.log(priceIncrease);\r\n      if (priceIncrease['Increase']){\r\n        const newFlight = new Map(way1Clicked);\r\n        newFlight.set('Base_Price', way1Clicked['Base_Price']*1.25);\r\n        setWay1Clicked(newFlight);\r\n      }\r\n\r\n      if (tripType === \"Round-Trip\"){\r\n            result = await fetch('/increaseTicketPrice',{\r\n              method: 'POST',\r\n              headers:{\r\n                  'Content-Type' : 'application/json'\r\n              },\r\n              body: {\r\n                'flightNum' : way2Clicked['Flight_Number'],\r\n                'airline' : way2Clicked ['Airline_Name'],\r\n                'departure' : DateConverter(way2Clicked['Departure_Date_Time'])\r\n              }\r\n            \r\n            });\r\n            if (result.status=== 400){\r\n              setPurchaseResult(\"ERROR IN TRANSACTION\");\r\n            }\r\n            else{\r\n              const priceIncrease = await result.json();\r\n              if (priceIncrease['Increase']){\r\n                const newFlight = new Map(way2Clicked);\r\n                newFlight.set('Base_Price', way2Clicked['Base_Price']*1.25);\r\n                setWay2Clicked(newFlight);\r\n              }\r\n            }\r\n\r\n      }\r\n    }\r\n    email = session[0]\r\n    flightNum = data['flightNum']\r\n    departure = data['departure']\r\n    price = data['price']\r\n    cardType = data['cardType']\r\n    cardNumber = data['cardNumber']\r\n    cardName = data['cardName']\r\n    cardExp = data['cardExp']\r\n    try{\r\n      const response = await fetch('/buyTicket', {\r\n          method: 'POST',\r\n          headers:{\r\n              'Content-Type' : 'application/json'\r\n          },\r\n          body: JSON.stringify({ //TICKET ID WILL BE RNG (CHECK), EMAIL ADDRESS FROM SESSION\r\n              'cardType': cardType,\r\n              'cardNumber': cardNumber,\r\n              'cardName': cardName,\r\n              'cardExp': cardExp,\r\n              'flightNum1' : way1Clicked['Flight_Number'],\r\n              'departDateTime' : DateConverter(way1Clicked[\"Departure_Date_Time\"]),\r\n              'price': way1Clicked[\"Base_Price\"] //ADJUST PRICE\r\n          })\r\n        });\r\n        \r\n        if (response.status === 200){\r\n          setPurchase(\"Ticket Bought Successfully\");\r\n        }\r\n        else {// (response.status === 400)\r\n          setPurchase(\"Error in Transaction\");\r\n        }\r\n      }\r\n      catch (error){\r\n        console.log(\"ERROR\", error)\r\n      }\r\n    \r\n    \r\n  }\r\n\r\n\r\n  const allowPurchase = () => {\r\n    setPurchase(true);\r\n  }\r\n  const handleSubmit = async(e) => {\r\n    console.log(\"POOOOOP: \");\r\n    console.log(isloggedin);\r\n    e.preventDefault();\r\n\r\n    \r\n  try{\r\n    const response = await fetch('/FlightSearch', {\r\n        method: 'POST',\r\n        headers:{\r\n            'Content-Type' : 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            'DepartAirport': departAirport,\r\n            'ArriveAirport': arriveAirport,\r\n            'DepartDate': departDate,\r\n            'ReturnDate': returnDate,\r\n            'TripType' : tripType\r\n\r\n        })\r\n      });\r\n      const responseData = await response.json();\r\n      console.log(responseData);\r\n      console.log(responseData['Flights']);\r\n\r\n      if (response.status === 200){\r\n        setResult(\"\");\r\n        setWay1Flights(responseData[\"Way1\"]); \r\n        setWay2Flights(responseData[\"Way2\"]);\r\n        setShowResult(true);\r\n      }\r\n      else {// (response.status === 400)\r\n        setResult(\"No Flights Found\");\r\n        setWay1Flights(null);\r\n        setWay2Flights(null);\r\n      }\r\n    }\r\n    catch (error){\r\n      console.log(\"ERROR\", error)\r\n    }\r\n\r\n      \r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch('/getAirports');\r\n      const data = await response.json();\r\n      setAllAirports(data['Airports']);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    const intervalId = setInterval(() => {\r\n      fetchData();\r\n    }, 99000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, []); \r\n\r\n\r\n  return (\r\n    <div className='SearchBox'>\r\n    <form onSubmit={handleSubmit} >\r\n\r\n\r\n    <div className='inputBox'>\r\n        <label>Select a Departure Airport or Departure City</label>\r\n        <select value={departAirport} onChange={(e) => setDepartAirport(e.target.value)}>\r\n        <option value=\"\"> Select an option</option>\r\n            {allAirports.map(item => (\r\n        <option key={item.Airport_Name || item.City} value={item.Airport_Name || item.City}>\r\n            {item.Airport_Name || item.City}\r\n        </option>\r\n      ))}\r\n      </select>\r\n    </div>\r\n\r\n    <div className='inputBox'>\r\n        <label>Select an Arrival Depature Airport or Arrival City</label>\r\n        <select value={arriveAirport} onChange={(e) => setArriveAirport(e.target.value)}>\r\n          <option value=\"\">Select an option</option>\r\n            {allAirports.map(item => (\r\n          <option key={item.Airport_Name || item.City} value={item.Airport_Name || item.City}>\r\n            {item.Airport_Name || item.City}\r\n          </option>\r\n          ))}\r\n        </select>\r\n    </div>\r\n      \r\n      <div className='inputBox'>\r\n        <label >One-Way or Round Trip?</label>\r\n        <select onChange={(e) => setTripType(e.target.value)} required>\r\n          <option value=\"\">Select...</option>\r\n          <option value=\"One-Way\">One-Way</option>\r\n          <option value=\"Round-Trip\">Round-Trip</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n      <label htmlFor=\"dateInput\">Departure Date :</label>\r\n      <input\r\n        className='inputBox'\r\n        type=\"date\"\r\n        id=\"departDate\"\r\n        value={departDate}\r\n        onChange={(e) => setDepartDate(e.target.value)}\r\n        pattern=\"\\d{4}-\\d{2}-\\d{2}\"\r\n        required\r\n      />\r\n        </div>\r\n\r\n        \r\n\r\n    {tripType === \"Round-Trip\" && (\r\n        <div>\r\n      <label htmlFor=\"dateInput\">Return Date :</label>\r\n      <input\r\n        className='inputBox'\r\n        type=\"date\"\r\n        id=\"returnDate\"\r\n        value={returnDate}\r\n        onChange={(e) => setReturnDate(e.target.value)}\r\n        pattern=\"\\d{4}-\\d{2}-\\d{2}\"\r\n        required/>\r\n        </div>\r\n    )}\r\n        \r\n\r\n\r\n      <button type=\"submit\">Search Flight</button>\r\n\r\n\r\n    </form>\r\n    <p>{result}</p>\r\n    {showResult && (\r\n    <div>\r\n  \r\n      <p>{result}</p>\r\n      <h2>Departure</h2>\r\n\r\n      {way1Flights && (\r\n          <ul>\r\n            {way1Flights.map((item, index) => (\r\n              <li key={index} onClick={() => handleWay1Click(item)} style={{\r\n                cursor: 'pointer',\r\n                color: way1Clicked === item ? 'red' : 'black',\r\n              }}>\r\n                {Object.entries(item).map(([key, value]) => (\r\n                  <div key={key} >\r\n                    <strong>{key}:</strong> {value}<br /> \r\n                  </div>\r\n                  \r\n                ))}\r\n              </li>\r\n          ))}\r\n          </ul>\r\n      )}\r\n    \r\n\r\n    <div>\r\n      <h2>Return</h2>\r\n\r\n      {way2Flights && (\r\n          <ul>\r\n            {way2Flights.map((item, index) => (\r\n             <li key={index} onClick={() => handleWay2Click(item)} style={{\r\n              cursor: 'pointer',\r\n              color: way2Clicked === item ? 'red' : 'black',\r\n            }}>\r\n                {Object.entries(item).map(([key, value]) => (\r\n                  <div key={key}>\r\n                    <strong>{key}:</strong> {value}<br />\r\n                  </div>\r\n                ))}\r\n              </li>\r\n          ))}\r\n          </ul>\r\n      )}\r\n    </div>\r\n    \r\n\r\n    {isloggedin&& (\r\n    <div>\r\n        <button onClick={allowPurchase}> Purchase A Flight </button>\r\n    </div> \r\n    )}\r\n\r\n    {!isloggedin && (\r\n    <div>\r\n     <Link to =\"/Login\">\r\n        <button > Log in or Register to Purchase a Flight </button>\r\n       </Link>\r\n     </div> \r\n    )}\r\n    \r\n\r\n\r\n    {purchase && (\r\n      <div>\r\n\r\n        <form onSubmit={handleTransaction} >\r\n\r\n        <TextInputBox setState={setCardType} label= {\"Card Type\"}/>\r\n        <TextInputBox setState={setCardNumber} label= {\"Card Number\"}/>\r\n        <TextInputBox setState={setCardName} label= {\"Card Holder Name\"}/>\r\n        <DateInputBox setState={setCardExp} label= {\"Card Expiration\"}/>\r\n\r\n        <button type=\"submit\">Buy</button>\r\n\r\n        </form>\r\n\r\n\r\n      </div>\r\n    )}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n    )}\r\n\r\n  \r\n    </div> \r\n  );\r\n  \r\n \r\n};\r\n\r\nFlightSearch.propTypes = {\r\n  isloggedin: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FlightSearch;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG5C,MAAMC,YAAY,GAAGA,CAAC;EAACC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACrCC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEH,UAAU,CAAC;;EAEnC;EACA,MAAM,CAACI,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,YAAY,CAAC;EAC1D,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,YAAY,CAAC;EAC1D,MAAM,CAACsB,QAAQ,EAAEC,WAAW,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC8B,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACgC,UAAU,EAAEC,aAAa,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACoC,QAAQ,EAAEC,WAAW,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsC,UAAU,EAAEC,aAAa,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACwC,QAAQ,EAAEC,WAAW,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC0C,OAAO,EAAEC,UAAU,CAAC,GAAG3C,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC4C,cAAc,EAAEC,iBAAiB,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC8C,aAAa,EAAEC,gBAAgB,CAAC,GAAG/C,QAAQ,CAAC,KAAK,CAAC;EAGzD,MAAM,CAACgD,WAAW,EAAEC,cAAc,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACkD,WAAW,EAAEC,cAAc,CAAC,GAAGnD,QAAQ,CAAC,EAAE,CAAC;EAIlD,MAAMoD,eAAe,GAAIC,WAAW,IAAK;IACvCzC,OAAO,CAACC,GAAG,CAACwC,WAAW,CAAC;IACxBJ,cAAc,CAACI,WAAW,CAAC;EAC7B,CAAC;EACD,MAAMC,eAAe,GAAID,WAAW,IAAK;IACvCF,cAAc,CAACE,WAAW,CAAC;EAC7B,CAAC;EAED,MAAME,iBAAiB,GAAG,MAAMC,CAAC,IAAI;IACnCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIT,WAAW,IAAI,EAAE,EAAE;MACrBH,iBAAiB,CAAC,qCAAqC,CAAC;MACxD;IACF;IAEA,IAAGvB,QAAQ,IAAI,YAAY,IAAI4B,WAAW,IAAI,EAAE,EAAC;MAC/CL,iBAAiB,CAAC,qCAAqC,CAAC;MACxD;IACF;;IAEA;IACA;IACA;;IAEA,MAAMf,MAAM,GAAG,MAAM4B,KAAK,CAAC,sBAAsB,EAAC;MAChDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAC;QACJ,cAAc,EAAG;MACrB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnB,WAAW,EAAGf,WAAW,CAAC,eAAe,CAAC;QAC1C,SAAS,EAAGA,WAAW,CAAE,cAAc,CAAC;QACxC,WAAW,EAAG1C,aAAa,CAAC0C,WAAW,CAAC,qBAAqB,CAAC;MAChE,CAAC;IAEH,CAAC,CAAC;IACF,IAAIlB,MAAM,CAACkC,MAAM,KAAK,GAAG,EAAC;MACxBnB,iBAAiB,CAAC,sBAAsB,CAAC;IAC3C,CAAC,MACG;MACF,MAAMoB,aAAa,GAAG,MAAMnC,MAAM,CAACoC,IAAI,CAAC,CAAC;MACzCtD,OAAO,CAACC,GAAG,CAACoD,aAAa,CAAC;MAC1B,IAAIA,aAAa,CAAC,UAAU,CAAC,EAAC;QAC5B,MAAME,SAAS,GAAG,IAAIC,GAAG,CAACpB,WAAW,CAAC;QACtCmB,SAAS,CAACE,GAAG,CAAC,YAAY,EAAErB,WAAW,CAAC,YAAY,CAAC,GAAC,IAAI,CAAC;QAC3DC,cAAc,CAACkB,SAAS,CAAC;MAC3B;MAEA,IAAI7C,QAAQ,KAAK,YAAY,EAAC;QACxBQ,MAAM,GAAG,MAAM4B,KAAK,CAAC,sBAAsB,EAAC;UAC1CC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAC;YACJ,cAAc,EAAG;UACrB,CAAC;UACDC,IAAI,EAAE;YACJ,WAAW,EAAGX,WAAW,CAAC,eAAe,CAAC;YAC1C,SAAS,EAAGA,WAAW,CAAE,cAAc,CAAC;YACxC,WAAW,EAAG5C,aAAa,CAAC4C,WAAW,CAAC,qBAAqB,CAAC;UAChE;QAEF,CAAC,CAAC;QACF,IAAIpB,MAAM,CAACkC,MAAM,KAAI,GAAG,EAAC;UACvBnB,iBAAiB,CAAC,sBAAsB,CAAC;QAC3C,CAAC,MACG;UACF,MAAMoB,aAAa,GAAG,MAAMnC,MAAM,CAACoC,IAAI,CAAC,CAAC;UACzC,IAAID,aAAa,CAAC,UAAU,CAAC,EAAC;YAC5B,MAAME,SAAS,GAAG,IAAIC,GAAG,CAAClB,WAAW,CAAC;YACtCiB,SAAS,CAACE,GAAG,CAAC,YAAY,EAAEnB,WAAW,CAAC,YAAY,CAAC,GAAC,IAAI,CAAC;YAC3DC,cAAc,CAACgB,SAAS,CAAC;UAC3B;QACF;MAEN;IACF;IACAG,KAAK,GAAGC,OAAO,CAAC,CAAC,CAAC;IAClBC,SAAS,GAAGC,IAAI,CAAC,WAAW,CAAC;IAC7BC,SAAS,GAAGD,IAAI,CAAC,WAAW,CAAC;IAC7BE,KAAK,GAAGF,IAAI,CAAC,OAAO,CAAC;IACrBrC,QAAQ,GAAGqC,IAAI,CAAC,UAAU,CAAC;IAC3BnC,UAAU,GAAGmC,IAAI,CAAC,YAAY,CAAC;IAC/BjC,QAAQ,GAAGiC,IAAI,CAAC,UAAU,CAAC;IAC3B/B,OAAO,GAAG+B,IAAI,CAAC,SAAS,CAAC;IACzB,IAAG;MACD,MAAMG,QAAQ,GAAG,MAAMlB,KAAK,CAAC,YAAY,EAAE;QACvCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAC;UACJ,cAAc,EAAG;QACrB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAE;UACnB,UAAU,EAAE3B,QAAQ;UACpB,YAAY,EAAEE,UAAU;UACxB,UAAU,EAAEE,QAAQ;UACpB,SAAS,EAAEE,OAAO;UAClB,YAAY,EAAGM,WAAW,CAAC,eAAe,CAAC;UAC3C,gBAAgB,EAAG1C,aAAa,CAAC0C,WAAW,CAAC,qBAAqB,CAAC,CAAC;UACpE,OAAO,EAAEA,WAAW,CAAC,YAAY,CAAC,CAAC;QACvC,CAAC;MACH,CAAC,CAAC;;MAEF,IAAI4B,QAAQ,CAACZ,MAAM,KAAK,GAAG,EAAC;QAC1B7B,WAAW,CAAC,4BAA4B,CAAC;MAC3C,CAAC,MACI;QAAC;QACJA,WAAW,CAAC,sBAAsB,CAAC;MACrC;IACF,CAAC,CACD,OAAO0C,KAAK,EAAC;MACXjE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEgE,KAAK,CAAC;IAC7B;EAGJ,CAAC;EAGD,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B3C,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EACD,MAAM4C,YAAY,GAAG,MAAMvB,CAAC,IAAK;IAC/B5C,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IACxBD,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC;IACvB8C,CAAC,CAACC,cAAc,CAAC,CAAC;IAGpB,IAAG;MACD,MAAMmB,QAAQ,GAAG,MAAMlB,KAAK,CAAC,eAAe,EAAE;QAC1CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAC;UACJ,cAAc,EAAG;QACrB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjB,eAAe,EAAEjD,aAAa;UAC9B,eAAe,EAAEE,aAAa;UAC9B,YAAY,EAAEE,UAAU;UACxB,YAAY,EAAEE,UAAU;UACxB,UAAU,EAAGE;QAEjB,CAAC;MACH,CAAC,CAAC;MACF,MAAM0D,YAAY,GAAG,MAAMJ,QAAQ,CAACV,IAAI,CAAC,CAAC;MAC1CtD,OAAO,CAACC,GAAG,CAACmE,YAAY,CAAC;MACzBpE,OAAO,CAACC,GAAG,CAACmE,YAAY,CAAC,SAAS,CAAC,CAAC;MAEpC,IAAIJ,QAAQ,CAACZ,MAAM,KAAK,GAAG,EAAC;QAC1BjC,SAAS,CAAC,EAAE,CAAC;QACbN,cAAc,CAACuD,YAAY,CAAC,MAAM,CAAC,CAAC;QACpCrD,cAAc,CAACqD,YAAY,CAAC,MAAM,CAAC,CAAC;QACpC/C,aAAa,CAAC,IAAI,CAAC;MACrB,CAAC,MACI;QAAC;QACJF,SAAS,CAAC,kBAAkB,CAAC;QAC7BN,cAAc,CAAC,IAAI,CAAC;QACpBE,cAAc,CAAC,IAAI,CAAC;MACtB;IACF,CAAC,CACD,OAAOkD,KAAK,EAAC;MACXjE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEgE,KAAK,CAAC;IAC7B;EAGF,CAAC;EAED,MAAMI,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAML,QAAQ,GAAG,MAAMlB,KAAK,CAAC,cAAc,CAAC;MAC5C,MAAMe,IAAI,GAAG,MAAMG,QAAQ,CAACV,IAAI,CAAC,CAAC;MAClCrC,cAAc,CAAC4C,IAAI,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdjE,OAAO,CAACiE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED5E,SAAS,CAAC,MAAM;IACdgF,SAAS,CAAC,CAAC;IACX,MAAMC,UAAU,GAAGC,WAAW,CAAC,MAAM;MACnCF,SAAS,CAAC,CAAC;IACb,CAAC,EAAE,KAAK,CAAC;IAET,OAAO,MAAMG,aAAa,CAACF,UAAU,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAGN,oBACE1E,OAAA;IAAK6E,SAAS,EAAC,WAAW;IAAAC,QAAA,gBAC1B9E,OAAA;MAAM+E,QAAQ,EAAER,YAAa;MAAAO,QAAA,gBAG7B9E,OAAA;QAAK6E,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACrB9E,OAAA;UAAA8E,QAAA,EAAO;QAA4C;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3DnF,OAAA;UAAQoF,KAAK,EAAE9E,aAAc;UAAC+E,QAAQ,EAAGrC,CAAC,IAAKzC,gBAAgB,CAACyC,CAAC,CAACsC,MAAM,CAACF,KAAK,CAAE;UAAAN,QAAA,gBAChF9E,OAAA;YAAQoF,KAAK,EAAC,EAAE;YAAAN,QAAA,EAAC;UAAiB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACtC/D,WAAW,CAACmE,GAAG,CAACC,IAAI,iBACzBxF,OAAA;YAA6CoF,KAAK,EAAEI,IAAI,CAACC,YAAY,IAAID,IAAI,CAACE,IAAK;YAAAZ,QAAA,EAC9EU,IAAI,CAACC,YAAY,IAAID,IAAI,CAACE;UAAI,GADtBF,IAAI,CAACC,YAAY,IAAID,IAAI,CAACE,IAAI;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEnC,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENnF,OAAA;QAAK6E,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACrB9E,OAAA;UAAA8E,QAAA,EAAO;QAAkD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjEnF,OAAA;UAAQoF,KAAK,EAAE5E,aAAc;UAAC6E,QAAQ,EAAGrC,CAAC,IAAKvC,gBAAgB,CAACuC,CAAC,CAACsC,MAAM,CAACF,KAAK,CAAE;UAAAN,QAAA,gBAC9E9E,OAAA;YAAQoF,KAAK,EAAC,EAAE;YAAAN,QAAA,EAAC;UAAgB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACvC/D,WAAW,CAACmE,GAAG,CAACC,IAAI,iBACvBxF,OAAA;YAA6CoF,KAAK,EAAEI,IAAI,CAACC,YAAY,IAAID,IAAI,CAACE,IAAK;YAAAZ,QAAA,EAChFU,IAAI,CAACC,YAAY,IAAID,IAAI,CAACE;UAAI,GADpBF,IAAI,CAACC,YAAY,IAAID,IAAI,CAACE,IAAI;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEnC,CACP,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eAEJnF,OAAA;QAAK6E,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB9E,OAAA;UAAA8E,QAAA,EAAQ;QAAsB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtCnF,OAAA;UAAQqF,QAAQ,EAAGrC,CAAC,IAAKjC,WAAW,CAACiC,CAAC,CAACsC,MAAM,CAACF,KAAK,CAAE;UAACO,QAAQ;UAAAb,QAAA,gBAC5D9E,OAAA;YAAQoF,KAAK,EAAC,EAAE;YAAAN,QAAA,EAAC;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnCnF,OAAA;YAAQoF,KAAK,EAAC,SAAS;YAAAN,QAAA,EAAC;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxCnF,OAAA;YAAQoF,KAAK,EAAC,YAAY;YAAAN,QAAA,EAAC;UAAU;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENnF,OAAA;QAAA8E,QAAA,gBACA9E,OAAA;UAAO4F,OAAO,EAAC,WAAW;UAAAd,QAAA,EAAC;QAAgB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnDnF,OAAA;UACE6E,SAAS,EAAC,UAAU;UACpBgB,IAAI,EAAC,MAAM;UACXC,EAAE,EAAC,YAAY;UACfV,KAAK,EAAE1E,UAAW;UAClB2E,QAAQ,EAAGrC,CAAC,IAAKrC,aAAa,CAACqC,CAAC,CAACsC,MAAM,CAACF,KAAK,CAAE;UAC/CW,OAAO,EAAC,sBAAmB;UAC3BJ,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,EAITrE,QAAQ,KAAK,YAAY,iBACtBd,OAAA;QAAA8E,QAAA,gBACF9E,OAAA;UAAO4F,OAAO,EAAC,WAAW;UAAAd,QAAA,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChDnF,OAAA;UACE6E,SAAS,EAAC,UAAU;UACpBgB,IAAI,EAAC,MAAM;UACXC,EAAE,EAAC,YAAY;UACfV,KAAK,EAAExE,UAAW;UAClByE,QAAQ,EAAGrC,CAAC,IAAKnC,aAAa,CAACmC,CAAC,CAACsC,MAAM,CAACF,KAAK,CAAE;UAC/CW,OAAO,EAAC,sBAAmB;UAC3BJ,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACR,eAICnF,OAAA;QAAQ6F,IAAI,EAAC,QAAQ;QAAAf,QAAA,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGxC,CAAC,eACPnF,OAAA;MAAA8E,QAAA,EAAIxD;IAAM;MAAA0D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACd3D,UAAU,iBACXxB,OAAA;MAAA8E,QAAA,gBAEE9E,OAAA;QAAA8E,QAAA,EAAIxD;MAAM;QAAA0D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACfnF,OAAA;QAAA8E,QAAA,EAAI;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEjBnE,WAAW,iBACRhB,OAAA;QAAA8E,QAAA,EACG9D,WAAW,CAACuE,GAAG,CAAC,CAACC,IAAI,EAAEQ,KAAK,kBAC3BhG,OAAA;UAAgBiG,OAAO,EAAEA,CAAA,KAAMrD,eAAe,CAAC4C,IAAI,CAAE;UAACU,KAAK,EAAE;YAC3DC,MAAM,EAAE,SAAS;YACjBC,KAAK,EAAE5D,WAAW,KAAKgD,IAAI,GAAG,KAAK,GAAG;UACxC,CAAE;UAAAV,QAAA,EACCuB,MAAM,CAACC,OAAO,CAACd,IAAI,CAAC,CAACD,GAAG,CAAC,CAAC,CAACgB,GAAG,EAAEnB,KAAK,CAAC,kBACrCpF,OAAA;YAAA8E,QAAA,gBACE9E,OAAA;cAAA8E,QAAA,GAASyB,GAAG,EAAC,GAAC;YAAA;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACC,KAAK,eAACpF,OAAA;cAAAgF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA,GAD7BoB,GAAG;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAER,CAEN;QAAC,GATKa,KAAK;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAUV,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACP,eAGHnF,OAAA;QAAA8E,QAAA,gBACE9E,OAAA;UAAA8E,QAAA,EAAI;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEdjE,WAAW,iBACRlB,OAAA;UAAA8E,QAAA,EACG5D,WAAW,CAACqE,GAAG,CAAC,CAACC,IAAI,EAAEQ,KAAK,kBAC5BhG,OAAA;YAAgBiG,OAAO,EAAEA,CAAA,KAAMnD,eAAe,CAAC0C,IAAI,CAAE;YAACU,KAAK,EAAE;cAC5DC,MAAM,EAAE,SAAS;cACjBC,KAAK,EAAE1D,WAAW,KAAK8C,IAAI,GAAG,KAAK,GAAG;YACxC,CAAE;YAAAV,QAAA,EACGuB,MAAM,CAACC,OAAO,CAACd,IAAI,CAAC,CAACD,GAAG,CAAC,CAAC,CAACgB,GAAG,EAAEnB,KAAK,CAAC,kBACrCpF,OAAA;cAAA8E,QAAA,gBACE9E,OAAA;gBAAA8E,QAAA,GAASyB,GAAG,EAAC,GAAC;cAAA;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACC,KAAK,eAACpF,OAAA;gBAAAgF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA,GAD7BoB,GAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAER,CACN;UAAC,GARIa,KAAK;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAST,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACP;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAGLjF,UAAU,iBACXF,OAAA;QAAA8E,QAAA,eACI9E,OAAA;UAAQiG,OAAO,EAAE3B,aAAc;UAAAQ,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3D,CACJ,EAEA,CAACjF,UAAU,iBACZF,OAAA;QAAA8E,QAAA,eACC9E,OAAA,CAACN,IAAI;UAAC8G,EAAE,EAAE,QAAQ;UAAA1B,QAAA,eACf9E,OAAA;YAAA8E,QAAA,EAAS;UAAyC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACL,EAIAzD,QAAQ,iBACP1B,OAAA;QAAA8E,QAAA,eAEE9E,OAAA;UAAM+E,QAAQ,EAAEhC,iBAAkB;UAAA+B,QAAA,gBAElC9E,OAAA,CAACJ,YAAY;YAAC6G,QAAQ,EAAE5E,WAAY;YAAC6E,KAAK,EAAG;UAAY;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC3DnF,OAAA,CAACJ,YAAY;YAAC6G,QAAQ,EAAE1E,aAAc;YAAC2E,KAAK,EAAG;UAAc;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC/DnF,OAAA,CAACJ,YAAY;YAAC6G,QAAQ,EAAExE,WAAY;YAACyE,KAAK,EAAG;UAAmB;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAClEnF,OAAA,CAACH,YAAY;YAAC4G,QAAQ,EAAEtE,UAAW;YAACuE,KAAK,EAAG;UAAkB;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAEhEnF,OAAA;YAAQ6F,IAAI,EAAC,QAAQ;YAAAf,QAAA,EAAC;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAE5B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGJ,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAmCI,CACJ;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGI,CAAC;AAIV,CAAC;AAAChF,EAAA,CAvZIF,YAAY;AAAA0G,EAAA,GAAZ1G,YAAY;AAyZlBA,YAAY,CAAC2G,SAAS,GAAG;EACvB1G,UAAU,EAAEP,SAAS,CAACkH,IAAI,CAACC;AAC7B,CAAC;AAED,eAAe7G,YAAY;AAAC,IAAA0G,EAAA;AAAAI,YAAA,CAAAJ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}